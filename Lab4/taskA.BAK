
% actions

% go
act( go(x,y),                                                      % name
     [in(shakey,x), diff(x,y), on(shakey,floor), connected(x,y)],  % preconditions
     [in(shakey,x)],                                               % delete
     [in(shakey,y)]                                                % add
     ).
     
% push
act( push(b,x,y),                                                                                                    % name
     [in(shakey,x), on(shakey, floor), box(b), in(b,x), diff(x,y), connected(x,y)], % preconditions
     [in(shakey,x), in(b,x)],                                                                                        % delete
     [in(shakey,y), in(b,y)]                                                                                         % add
     ).
     
% climbUp
act( climbUp(b),                                         % name
     [box(b), in(shakey,x),on(shakey,floor), in(b,x)],   % preconditions
     [on(shakey,floor)],                                 % delete
     [on(shakey,b)]                                      % add
     ).

% climbDown
act( climbDown(b),                                   % name
     [box(b), in(shakey,x),on(shakey,b), in(b,x)],   % preconditions
     [on(shakey,b)],                                 % delete
     [on(shakey,floor)]                              % add
     ).

% turnOn
act( turnOn(s),                                                      % name
     [in(shakey,x), in(b,x), on(shakey,b), in(s,x), switch(s,off)],  % preconditions
     [switch(s,off)],                                                % delete
     [switch(s,on)]                                                  % add
     ).

% turnOff
act( turnOff(s),                                                    % name
     [in(shakey,x), in(b,x), on(shakey,b), in(s,x), switch(s,on)],  % preconditions
     [switch(s,on)],                                                % delete
     [switch(s,off)]                                                % add
     ).
     
     
goal_state([in(shakey,room1), switch(room1,off), in(box2, room2)]).

initial_state(
     [      % Shakey
            in(shakey, room3),
            on(shakey, floor),
            
            % Rooms
            room(room1),
            room(room2),
            room(room3),
            room(room4),
            room(corridor),
            
            % Room connections
            connected(room1, corridor),
            connected(room2, corridor),
            connected(room3, corridor),
            connected(room4, corridor),
            connected(corridor, room1),
            connected(corridor, room2),
            connected(corridor, room3),
            connected(corridor, room4),
            
            % Light switches
            switch(switch1, on),
            switch(switch2, off),
            switch(switch3, off),
            switch(switch4, on),
            
            % Light switch locations
            in(switch1, room1),
            in(switch2, room2),
            in(switch3, room3),
            in(switch4, room4),
            
            % Boxes
            box(box1),
            box(box2),
            box(box3),
            box(box4),
            
            % Box locations
            in(box1, room1),
            in(box2, room1),
            in(box3, room1),
            in(box4, room1)
     ]).
